{% extends 'admin/index.html' %}
{% block body %}
    <div class="container mt-5">
<body style="font-family: Arial, sans-serif; background-color: #f9f9f9; padding: 20px;">

  <!-- Search Form Section -->
  <div style="max-width: 600px; margin: 0 auto; background-color: #fff; border-radius: 8px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); padding: 20px;">
    <h2 style="text-align: center; font-size: 24px; color: #333;">Search Emergency Complaints</h2>
    <form method="post" action="/adminviewemergencycomplaint_post">
      {% csrf_token %}
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <input type="date" required name="date" style="padding: 10px; border: 1px solid #ccc; border-radius: 4px; width: 70%; font-size: 14px;" />
        <input type="submit" name="Submit" value="Search" style="background-color: #4CAF50; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; font-size: 16px; transition: background-color 0.3s;">
      </div>
    </form>
  </div>

  <!-- Complaints Table Section -->
  <div style="max-width: 1000px; margin: 40px auto; background-color: #fff; border-radius: 8px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); padding: 20px;">
    <h2 style="text-align: center; font-size: 24px; color: #333;">Emergency Complaints</h2>
    <table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
      <thead>
        <tr style="background-color: #f2f2f2; text-align: left;">
          <th style="padding: 10px; font-size: 16px; color: #333;">Childline</th>
          <th style="padding: 10px; font-size: 16px; color: #333;">User</th>
          <th style="padding: 10px; font-size: 16px; color: #333;">Date</th>
          <th style="padding: 10px; font-size: 16px; color: #333;">Message</th>
          <th style="padding: 10px; font-size: 16px; color: #333;">Status</th>
        </tr>
      </thead>
      <tbody>
        {% for i in data %}
          <tr style="border-bottom: 1px solid #ddd; text-align: left;">
            <td style="padding: 10px; font-size: 14px; color: #555;">{{ i.CHILDLINE.name }}</td>
            <td style="padding: 10px; font-size: 14px; color: #555;">{{ i.USERID.name }}</td>
            <td style="padding: 10px; font-size: 14px; color: #555;">{{ i.date }}</td>
            <td style="padding: 10px; font-size: 14px; color: #555;">{{ i.message }}</td>
            <td style="padding: 10px; font-size: 14px; color: #555;">
              <span style="font-weight: bold; color: {% if i.status == 'Resolved' %}#4CAF50{% else %}#f44336{% endif %};">{{ i.status }}</span>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

</body>
    </div>
{% endblock %}
